<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width,initial-scale=1" name="viewport">
  <meta content="description" name="description">
  <meta name="google" content="notranslate" />
  <meta content="Mashup templates have been developped by Orson.io team" name="author">

  <!-- Disable tap highlight on IE -->
  <meta name="msapplication-tap-highlight" content="no">
  
  <link rel="apple-touch-icon" sizes="180x180" href="./static/assets/apple-icon-180x180.png">
  <link href="./static/assets/rocketfavicon.ico" rel="icon">

  <title>Data Scraper</title>  

<link href="./static/main.3f6952e4.css" rel="stylesheet"></head>

<body class="">
<div id="site-border-left"></div>
<div id="site-border-right"></div>
<div id="site-border-top"></div>
<div id="site-border-bottom"></div>
<!-- Add your content of header -->
<header>
  <nav class="navbar  navbar-fixed-top navbar-default">
    <div class="container">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

      <div class="collapse navbar-collapse" id="navbar-collapse">
        <ul class="nav navbar-nav ">
          <li><a href="./index.html" title="">01 : Home</a></li>
          <li><a href="./works.html" title="">02 : Works</a></li>
          <li><a href="./about.html" title="">03 : About me</a></li>
          <li><a href="./contact.html" title="">04 : Contact</a></li>
          
        </ul>


          <ul class="nav navbar-nav navbar-right navbar-small visible-md visible-lg">
            <li><a href="./index.html" title="" class="active">001</a></li>
            <li><a href="./index.html" title="">002</a></li>
            <li><a href="./index.html" title="">003</a></li>
            <li><a href="./index.html" title="">004</a></li>
            <li><a href="./index.html" title="">005</a></li>
            <li><a href="./index.html" title="">006</a></li>
          </ul>


      </div> 
    </div>
  </nav>
</header>
<div class="section-container">
  <div class="container">
    <div class="row">
      <div class="col-xs-12">
        <img src="./static/assets/images/work001-01.jpg" class="img-responsive" alt="">
        <div class="card-container">
          <div class="text-center">
            <h1 class="h2">Data Scraper</h1>
          </div>
          <br>
          <p><font size='+2'>For more insight of the projects that im working on right now or the contributions that I have to open source you can always visit my GitHub account.Thank you very much!</p></font>
            <p><font size='+1'>
              GitHub : https://github.com/Sicxx211 or click this ->
              <a href="https://github.com/Sicxx211/" title="" class="fa-icon">
                        <i class="fa fa-github"></i>
                      </a>
            </p></font>
            <small class="pull-right">-Andrei Bucur</small>
        </div>
      </div>
      <h2> How I wrote the code </h2>
      <br>
      <p><font size='+2'>I wrote this app in order to save time in the morning, Hacker News is a good place to get insight on technology nowadays but I don't want to waste my own time to find a good article to read, what this app does, basically will scan the first 2 pages on HN and return only the articles that have points higher than 100, so you would save time and read only the good articles.</font></p>

      <p><font size='+1'>
import requests<br>
from bs4 import BeautifulSoup<br>
import pprint #this is the pretty print library, it will allow us to print things nicely in the terminal<br> 

res = requests.get('https://news.htycombinator.com/news')<br>
res2 = requests.get('https://news.htycombinator.com/news?p=2')<br>
soup = BeautifulSoup(res.text, 'html.parser')<br>
soup2 = BeautifulSoup(res2.text, 'html.parser')<br>
links = soup.select('.titleline')<br>
subtext = soup.select('.subtext')<br>
links2 = soup2.select('.titleline')<br>
subtext2 = soup2.select('.subtext')<br>

mega_links = links + links2<br>
mega_subtext = subtext + subtext2<br>

def sort_stories_by_votes(hnlist):
&nbspreturn sorted(hnlist, key=lambda k:k['votes'], reverse=True) #we use this lambda functions because we will need to sort a dictionary between a dictionary, if we used sorted simply like that it will give us an error, this way we will only specify the key that we want to sort and it will get rid of the errors, and we add reversed=True, so we actually get the higher values on top 
<br>
<br>

#We used enumerate, because here we have two lists, the links and the subtext, and we're only enumerating over the links list.And subtext is not being enumerated.So what happens here, we need the index so that we can access this subtext within our loop.Because otherwise, if we dind't enumerate, there's no way to grab both links and subtext  items.
#So instead of using title = links[inx].getText... we can actually use item. instead
<br><br>
def create_custom_hn(links,subtext):<br>
&nbsphn = []<br>
&nbspfor inx,item in enumerate(links): #we will use enumerate for this<br>
&nbsp&nbsptitle = item.getText() #this is to get the title from the links<br>
&nbsp&nbsphref = item.get('href', None) #This basically will take all the hyperlinks from the links that we had before, and in case the link is broken or smth we have a default param called None so it won't break our program<br>
&nbsp&nbspvote = subtext[inx].select('.score') #So bascially what we will do is to access the subtext and select the .score class<br>
&nbsp&nbspif len(vote):<br>
&nbsp&nbsp&nbsppoints = int(vote[0].getText().replace(' points', '')) #this is going to run only if the vote list exists<br>
&nbsp&nbsp&nbspif points > 99: #this basically tells if the story has over 99 points then append it to the list, if not do not append it<br> 
&nbsp&nbsp&nbsp&nbsphn.append({'title' : title, 'link' : href, 'votes':points})  #This basically will get the Name of each story from the link and convert it to text, and then it will append to the hn list, this finally will append the title and it's link to the list <br>
&nbspreturn sort_stories_by_votes(hn)<br>


pprint.pprint(create_custom_hn(megalinks, megasubtext))</font></p>

      <div class="col-xs-12">
        <img src="./static/assets/images/elfinal.png" class="img-responsive" alt="">
      </div>

    </div>
  </div>
</div>


<footer class="footer-container text-center">
  <div class="container">
    <div class="row">*Write Code Here*
      <div class="col-xs-12">
        
      </div>
    </div>
  </div>
</footer>

<script>
  document.addEventListener("DOMContentLoaded", function (event) {
     navActivePage();
  });
</script>

<!-- Google Analytics: change UA-XXXXX-X to be your site's ID 

<script>
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date(); a = s.createElement(o),
      m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
  ga('create', 'UA-XXXXX-X', 'auto');
  ga('send', 'pageview');
</script>

--> <script type="text/javascript" src="./static/main.70a66962.js"></script></body>

</html>